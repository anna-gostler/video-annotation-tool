{"ast":null,"code":"import _assertThisInitialized from\"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';// color scheme https://www.schemecolor.com/coral-blue.php\nvar App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){_classCallCheck(this,App);return _possibleConstructorReturn(this,_getPrototypeOf(App).call(this));}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"App\"},React.createElement(FrameArea,null));}}]);return App;}(Component);// area shows the video and is the region where the bounding-box(es)\n// can be moved \nvar FrameArea=/*#__PURE__*/function(_React$Component){_inherits(FrameArea,_React$Component);function FrameArea(){_classCallCheck(this,FrameArea);return _possibleConstructorReturn(this,_getPrototypeOf(FrameArea).apply(this,arguments));}_createClass(FrameArea,[{key:\"render\",// TODO run tracker (runopencvtrackers.py)\nvalue:function render(){return React.createElement(\"div\",{id:\"FrameArea\"},React.createElement(BoundingBox,null),React.createElement(\"img\",{id:\"frame\",src:\"images/00000001.jpg\",alt:\"\",width:\"500\",draggable:\"false\",onmousedown:\"return false;\"}),React.createElement(\"button\",{id:\"btn_runtracker\"},\"run tracker\"));}},{key:\"componentDidMount\",value:function componentDidMount(){document.getElementById('frame').ondragstart=function(){return false;};}}]);return FrameArea;}(React.Component);var BoundingBox=/*#__PURE__*/function(_React$Component2){_inherits(BoundingBox,_React$Component2);function BoundingBox(props){var _this;_classCallCheck(this,BoundingBox);_this=_possibleConstructorReturn(this,_getPrototypeOf(BoundingBox).call(this,props));_this.handleResize=function(event){if(event.type==='mousedown'){//console.log('clicked: resize me')\n// enter resize state\n_this.setState({resizeModeOn:true});_this.setState({ElementStyle:{top:_this.state.ElementStyle.top,left:_this.state.ElementStyle.left,height:_this.state.ElementStyle.height,width:_this.state.ElementStyle.width,cursor:\"nw-resize\"}});document.addEventListener('mousemove',_this.handleResize);}else if(event.type==='mousemove'){//console.log('listen for mouse-up')\ndocument.addEventListener('mouseup',_this.handleMouseUp);_this.setState({ElementStyle:{top:_this.state.ElementStyle.top,left:_this.state.ElementStyle.left,height:_this.state.ElementStyle.height,width:_this.state.ElementStyle.width,cursor:\"nw-resize\"}});_this.setState({possibleResizeModeOn:true});if(_this.state.resizeModeOn){var minwidthheight=5;var offset_framearea=100;// stop if width/height == 0\nif(_this.state.w>=minwidthheight){// add mouse-position to width\n_this.setState({w:Math.max(minwidthheight,event.pageX-_this.state.l-offset_framearea)});_this.setState({ElementStyle:{top:_this.state.ElementStyle.top,left:_this.state.ElementStyle.left,height:_this.state.ElementStyle.height,width:_this.state.w+\"px\",cursor:\"nw-resize\"}});}if(_this.state.h>=minwidthheight){// add mouse-position to height\n_this.setState({h:Math.max(minwidthheight,event.pageY-_this.state.t-offset_framearea)});_this.setState({ElementStyle:{top:_this.state.ElementStyle.top,left:_this.state.ElementStyle.left,height:_this.state.h+\"px\",width:_this.state.ElementStyle.width,cursor:\"nw-resize\"}});}}}};_this.handleMouseDown=function(event){//console.log('clicked: drag me')\n//console.log('possible resize? ' + this.state.possibleResizeModeOn)\n//check if resize is on\n// if click is inside resize-box -> resize\n// otherwise -> drag\nif(_this.state.possibleResizeModeOn===false){_this.setState({dragModeOn:true,diffx:event.pageX-_this.state.l,diffy:event.pageY-_this.state.t});document.addEventListener('mousemove',_this.handleDrag);ReactDOM.findDOMNode(_assertThisInitialized(_this)).removeEventListener('mousedown',_this.handleMouseDown);document.addEventListener('mouseup',_this.handleMouseUp);}};_this.handleMouseUp=function(event){//console.log('handle mouse up - remove mouse move listener')\ndocument.removeEventListener('mousemove',_this.handleResize);_this.setState({ElementStyle:{top:_this.state.ElementStyle.top,left:_this.state.ElementStyle.left,height:_this.state.ElementStyle.height,width:_this.state.ElementStyle.width,cursor:\"move\"}});_this.setState({dragModeOn:false,possibleResizeModeOn:false,resizeModeOn:false});document.removeEventListener('mousemove',_this.handleDrag);ReactDOM.findDOMNode(_assertThisInitialized(_this)).addEventListener('mousedown',_this.handleMouseDown);document.removeEventListener('mouseup',_this.handleMouseUp);};_this.handleDrag=function(event){_this.setState({ElementStyle:{top:_this.state.ElementStyle.top,left:_this.state.ElementStyle.left,height:_this.state.ElementStyle.height,width:_this.state.ElementStyle.width,cursor:\"move\"}});if(_this.state.dragModeOn===true){_this.setState({l:event.pageX-_this.state.diffx,t:event.pageY-_this.state.diffy});_this.setState({ElementStyle:{top:event.pageY-_this.state.diffy+\"px\",left:event.pageX-_this.state.diffx+\"px\",height:_this.state.ElementStyle.height,width:_this.state.ElementStyle.width,cursor:\"move\"}});}};_this.state={ElementStyle:{top:\"113px\",left:\"465px\",width:\"34px\",height:\"34px\",cursor:\"move\"},t:113,l:465,h:34,w:34,diffx:0,diffy:0,dragModeOn:false,resizeModeOn:false,possibleResizeModeOn:false// if active -> do not drag\n};_this.handleResize=_this.handleResize.bind(_assertThisInitialized(_this));return _this;}_createClass(BoundingBox,[{key:\"componentDidMount\",value:function componentDidMount(){//in handle: remove 'mousedown' while mouse down, add when mouse up\nReactDOM.findDOMNode(this).addEventListener('mousedown',this.handleMouseDown);//in handle: remove 'mouseup' while mouse up, add when mouse down\n//in handle: remove 'mousemove' while mouse up, add when mouse down\n}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"bbox\",style:this.state.ElementStyle},React.createElement(ResizeBox,{posx:this.state.w-2.5+\"px\",posy:this.state.h-2.5+\"px\"//onClick = {() => this.handleResize()}\n,handleResize:this.handleResize}));}}]);return BoundingBox;}(React.Component);// little box on bbox's lower right corner\n// resizes box when dragged\n// child of Bounding Box\nvar ResizeBox=/*#__PURE__*/function(_React$Component3){_inherits(ResizeBox,_React$Component3);function ResizeBox(props){var _this2;_classCallCheck(this,ResizeBox);_this2=_possibleConstructorReturn(this,_getPrototypeOf(ResizeBox).call(this,props));_this2.state={resizeModeOn:false};return _this2;}_createClass(ResizeBox,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"resizebox\",style:{left:this.props.posx,top:this.props.posy},onMouseDown:this.props.handleResize// called in parent BoundingBox\n,onMouseMove:this.props.handleResize});}}]);return ResizeBox;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/anna_/azuretest/annotation-tool/src/App.js"],"names":["React","Component","ReactDOM","App","FrameArea","document","getElementById","ondragstart","BoundingBox","props","handleResize","event","type","setState","resizeModeOn","ElementStyle","top","state","left","height","width","cursor","addEventListener","handleMouseUp","possibleResizeModeOn","minwidthheight","offset_framearea","w","Math","max","pageX","l","h","pageY","t","handleMouseDown","dragModeOn","diffx","diffy","handleDrag","findDOMNode","removeEventListener","bind","ResizeBox","posx","posy"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ReactDOM from 'react-dom';\n\n// color scheme https://www.schemecolor.com/coral-blue.php\nclass App extends Component {\n  constructor() {\n    super()\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <FrameArea>\n        </FrameArea>\n      </div>\n    )\n  }\n}\n\n// area shows the video and is the region where the bounding-box(es)\n// can be moved \nclass FrameArea extends React.Component {\n\n  // TODO run tracker (runopencvtrackers.py)\n  render(){\n    return (\n      <div id=\"FrameArea\">\n      <BoundingBox></BoundingBox>\n      <img id = \"frame\" src=\"images/00000001.jpg\" alt=\"\" width=\"500\" draggable=\"false\" onmousedown=\"return false;\" ></img>\n      <button id=\"btn_runtracker\">run tracker</button>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    document.getElementById('frame').ondragstart = function() { return false; };\n  }\n\n}\n\n\nclass BoundingBox extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ElementStyle: {\n        top: \"113px\",\n        left: \"465px\",\n        width: \"34px\",\n        height: \"34px\",\n        cursor: \"move\",\n      },\n      t: 113,\n      l: 465,\n      h: 34,\n      w: 34,\n      diffx: 0,\n      diffy: 0,\n      dragModeOn: false,\n      resizeModeOn: false,\n      possibleResizeModeOn: false, // if active -> do not drag\n    };\n\n    this.handleResize = this.handleResize.bind(this)\n  }\n\n  componentDidMount() {\n        //in handle: remove 'mousedown' while mouse down, add when mouse up\n        ReactDOM.findDOMNode(this).addEventListener('mousedown', this.handleMouseDown); \n\n        //in handle: remove 'mouseup' while mouse up, add when mouse down\n        //in handle: remove 'mousemove' while mouse up, add when mouse down\n  }\n\n  render() {\n    return (\n      <div className=\"bbox\" style={this.state.ElementStyle} >\n        <ResizeBox posx={(this.state.w - 2.5) + \"px\"} posy={(this.state.h - 2.5) + \"px\"} \n          //onClick = {() => this.handleResize()}\n          handleResize = {this.handleResize}\n        ></ResizeBox>\n      </div>\n    );\n  }\n\n  handleResize = (event) => {\n    if (event.type === 'mousedown'){\n      //console.log('clicked: resize me')\n\n      // enter resize state\n      this.setState({\n        resizeModeOn: true,\n      });\n      this.setState({          \n        ElementStyle: {\n          top: this.state.ElementStyle.top,\n          left: this.state.ElementStyle.left,\n          height: this.state.ElementStyle.height,\n          width: this.state.ElementStyle.width,\n          cursor: \"nw-resize\",\n        }\n      });\n      document.addEventListener('mousemove', this.handleResize); \n\n    } else if (event.type === 'mousemove'){\n      //console.log('listen for mouse-up')\n      document.addEventListener('mouseup', this.handleMouseUp); \n      this.setState({          \n        ElementStyle: {\n          top: this.state.ElementStyle.top,\n          left: this.state.ElementStyle.left,\n          height: this.state.ElementStyle.height,\n          width: this.state.ElementStyle.width,\n          cursor: \"nw-resize\",\n        }\n      });\n\n      this.setState({ \n        possibleResizeModeOn: true, \n      });\n      if (this.state.resizeModeOn){\n        var minwidthheight = 5;\n        var offset_framearea = 100;\n\n        // stop if width/height == 0\n        if (this.state.w >= minwidthheight){\n          // add mouse-position to width\n          this.setState({\n            w: Math.max(minwidthheight,event.pageX - this.state.l - offset_framearea),\n          });\n    \n          this.setState({          \n            ElementStyle: {\n              top: this.state.ElementStyle.top,\n              left: this.state.ElementStyle.left,\n              height: this.state.ElementStyle.height,\n              width: (this.state.w) + \"px\",\n              cursor: \"nw-resize\",\n            }\n          });\n        }\n        if (this.state.h >= minwidthheight){\n            // add mouse-position to height\n            this.setState({\n              h: Math.max(minwidthheight, event.pageY - this.state.t - offset_framearea),\n            });\n      \n            this.setState({          \n              ElementStyle: {\n                top: this.state.ElementStyle.top,\n                left: this.state.ElementStyle.left,\n                height: (this.state.h) + \"px\",\n                width: this.state.ElementStyle.width,\n                cursor: \"nw-resize\",\n              }\n            });\n          }\n      }\n    }\n  }\n\n  handleMouseDown = (event) => {\n      //console.log('clicked: drag me')\n      //console.log('possible resize? ' + this.state.possibleResizeModeOn)\n\n      //check if resize is on\n      // if click is inside resize-box -> resize\n      // otherwise -> drag\n\n      if (this.state.possibleResizeModeOn === false){\n        this.setState({\n          dragModeOn: true,\n          diffx: event.pageX - this.state.l,\n          diffy: event.pageY - this.state.t,\n        });\n        document.addEventListener('mousemove', this.handleDrag);\n        ReactDOM.findDOMNode(this).removeEventListener('mousedown', this.handleMouseDown);\n        document.addEventListener('mouseup', this.handleMouseUp); \n      }\n   }\n\n   handleMouseUp = (event) => {\n    //console.log('handle mouse up - remove mouse move listener')\n    document.removeEventListener('mousemove', this.handleResize); \n      this.setState({          \n        ElementStyle: {\n          top: this.state.ElementStyle.top,\n          left: this.state.ElementStyle.left,\n          height: this.state.ElementStyle.height,\n          width: this.state.ElementStyle.width,\n          cursor: \"move\",\n        }\n      });\n\n      this.setState({\n        dragModeOn: false,\n        possibleResizeModeOn: false, \n        resizeModeOn: false,\n      }); \n      document.removeEventListener('mousemove', this.handleDrag); \n      ReactDOM.findDOMNode(this).addEventListener('mousedown', this.handleMouseDown);\n      document.removeEventListener('mouseup', this.handleMouseUp);\n   }\n\n   handleDrag = (event) => {\n      this.setState({          \n        ElementStyle: {\n          top: this.state.ElementStyle.top,\n          left: this.state.ElementStyle.left,\n          height: this.state.ElementStyle.height,\n          width: this.state.ElementStyle.width,\n          cursor: \"move\",\n        }\n      });\n      if (this.state.dragModeOn === true) {\n        this.setState({\n          l: event.pageX - this.state.diffx,\n          t: event.pageY - this.state.diffy,\n        });\n\n        this.setState({\n          ElementStyle: {\n            top: (event.pageY - this.state.diffy) + \"px\",\n            left: (event.pageX - this.state.diffx) + \"px\",\n            height: this.state.ElementStyle.height,\n            width: this.state.ElementStyle.width,\n            cursor: \"move\",\n          }\n        });\n      }\n    }\n}\n\n// little box on bbox's lower right corner\n// resizes box when dragged\n// child of Bounding Box\n\nclass ResizeBox extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      resizeModeOn: false,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"resizebox\" style = {{left: this.props.posx, top: this.props.posy}}\n        onMouseDown ={this.props.handleResize} // called in parent BoundingBox\n        onMouseMove ={this.props.handleResize}\n      > \n      </div>\n    );\n  }\n\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}