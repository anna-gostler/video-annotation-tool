{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anna_\\\\azuretest\\\\annotation-tool\\\\src\\\\Slider.jsx\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Slider extends React.Component {\n  //todo\n  // max selectable val: max tracked (general: skip over frames /wo move)\n  // color selected bar, tracked/marked bar\n  // move only if clicked\n  // enter -> move slider\n  //instant update\n  //impl left right arrows to slide\n  // remove border radius\n  //<Slider max_value={this.state.maxFrameNumber} max_tracked = {this.state.max_tracked}  min_value = {1} value={this.state.frameNumber} />\n  constructor(props) {\n    super(props);\n\n    this.handleSliderInput = event => {\n      //this.setMaxTracked(); //TODO call when click on run trackers\n      if (event.type === \"mousedown\") {\n        console.log('slider mousedown');\n        this.setState({\n          startPosX: event.pageX,\n          dragModeOn: true\n        });\n        document.addEventListener('mousemove', this.handleSliderInput);\n      } else if (event.type === \"mouseup\") {\n        console.log('slider mouseup'); //update frameno depending on offset\n        //convert pixel offset to slider value\n\n        console.log(this.state.selectedFrameNumber);\n        this.props.setFrameNo(this.state.selectedFrameNumber);\n        this.setState({\n          offsetX: this.state.startPosX - this.state.xPos,\n          dragModeOn: false\n        });\n        document.removeEventListener('mousemove', this.handleSliderInput);\n      } else if (event.type === \"mousemove\") {\n        //on move: register offset from start pos\n        // set thumb position\n        if (this.state.dragModeOn === true) {\n          //var sliderX = ReactDOM.findDOMNode(this).offsetLeft;//.getBoundingClientRect();\n          //console.log(rect.top, rect.right, rect.bottom, rect.left);\n          var sliderWidth = ReactDOM.findDOMNode(this).offsetWidth - 25;\n          var xPos = event.pageX;\n          var new_left = xPos - 100;\n          new_left = Math.max(this.props.min_value, new_left);\n          new_left = Math.min(sliderWidth, new_left);\n          this.setState({\n            offsetX: this.state.startPosX - this.state.xPos,\n            thumbStyle: {\n              left: new_left // 100 is left of FrameArea\n\n            }\n          });\n          var newFrameNumber = Math.ceil(this.state.thumbStyle.left / sliderWidth * this.props.max_value);\n          this.setState({\n            selectedFrameNumber: newFrameNumber,\n            selectedStyle: {\n              backgroundColor: \"light-blue\",\n              width: newFrameNumber + \"%\",\n              height: \"20px\",\n              borderRadius: \"0px\"\n            }\n          });\n          this.props.setFrameNo(newFrameNumber);\n        }\n      }\n    };\n\n    this.state = {\n      startPosX: undefined,\n      offsetX: undefined,\n      dragModeOn: false,\n      selectedFrameNumber: this.props.value,\n      //Todo remove?\n      selectedStyle: {\n        backgroundColor: \"blue\",\n        width: \"0%\",\n        height: \"20px\",\n        borderRadius: \"0px\"\n      },\n      trackedStyle: {\n        backgroundColor: \"red\",\n        width: this.props.max_tracked + \"%\",\n        height: \"30px\",\n        borderRadius: \"0px\"\n      },\n      bgStyle: {\n        backgroundColor: \"#dedede\",\n        // light gray\n        height: \"20px\",\n        borderRadius: \"0px\"\n      },\n      thumbStyle: {\n        left: \"0px\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    ReactDOM.findDOMNode(this).addEventListener('mousedown', this.handleSliderInput);\n    document.addEventListener('mousemove', this.handleSliderInput);\n    document.addEventListener('mouseup', this.handleSliderInput); //document.addEventListener('mousedown', this.setMaxTracked());  //TODO: call method when click on run trackers\n  }\n\n  setMaxTracked() {\n    //TODO move somewhere else\n    console.log('setMaxTracked');\n    this.setState({\n      trackedStyle: {\n        backgroundColor: \"red\",\n        width: this.props.max_tracked + \"%\",\n        height: \"30px\",\n        borderRadius: \"0px\"\n      }\n    });\n  }\n\n  render() {\n    console.log('render ' + this.props.max_tracked);\n    return React.createElement(\"div\", {\n      style: this.state.bgStyle,\n      className: \"backgroundSlider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.state.selectedStyle,\n      className: \"selectedSlider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: this.state.trackedStyle,\n      className: \"trackedSlider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"Thumb\",\n      className: \"Thumb\",\n      style: this.state.thumbStyle,\n      onMouseDown: this.props.handleSliderInput,\n      onMouseUp: this.props.handleSliderInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.state.selectedFrameNumber), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, 'val ' + this.props.value)));\n  }\n\n}\n\nexport default Slider;","map":{"version":3,"sources":["C:/Users/anna_/azuretest/annotation-tool/src/Slider.jsx"],"names":["React","ReactDOM","Slider","Component","constructor","props","handleSliderInput","event","type","console","log","setState","startPosX","pageX","dragModeOn","document","addEventListener","state","selectedFrameNumber","setFrameNo","offsetX","xPos","removeEventListener","sliderWidth","findDOMNode","offsetWidth","new_left","Math","max","min_value","min","thumbStyle","left","newFrameNumber","ceil","max_value","selectedStyle","backgroundColor","width","height","borderRadius","undefined","value","trackedStyle","max_tracked","bgStyle","componentDidMount","setMaxTracked","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Slider extends React.Component {\r\n\r\n    //todo\r\n    // max selectable val: max tracked (general: skip over frames /wo move)\r\n    // color selected bar, tracked/marked bar\r\n    // move only if clicked\r\n    // enter -> move slider\r\n    //instant update\r\n    //impl left right arrows to slide\r\n\r\n    // remove border radius\r\n\r\n    //<Slider max_value={this.state.maxFrameNumber} max_tracked = {this.state.max_tracked}  min_value = {1} value={this.state.frameNumber} />\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        startPosX: undefined, \r\n        offsetX: undefined,\r\n        dragModeOn: false,\r\n        selectedFrameNumber: this.props.value, //Todo remove?\r\n        selectedStyle: {\r\n          backgroundColor: \"blue\",\r\n          width: \"0%\",\r\n          height: \"20px\",\r\n          borderRadius: \"0px\",\r\n        },\r\n        trackedStyle: {\r\n            backgroundColor: \"red\",\r\n            width: this.props.max_tracked +\"%\",\r\n            height: \"30px\",\r\n            borderRadius: \"0px\",\r\n        },\r\n        bgStyle: {\r\n          backgroundColor: \"#dedede\", // light gray\r\n          height: \"20px\",\r\n          borderRadius: \"0px\",\r\n        },\r\n        thumbStyle: {\r\n            left: \"0px\",\r\n        },\r\n      };\r\n    }\r\n\r\n      \r\n    componentDidMount() {\r\n        ReactDOM.findDOMNode(this).addEventListener('mousedown', this.handleSliderInput); \r\n        document.addEventListener('mousemove', this.handleSliderInput); \r\n        document.addEventListener('mouseup', this.handleSliderInput); \r\n        //document.addEventListener('mousedown', this.setMaxTracked());  //TODO: call method when click on run trackers\r\n    }\r\n\r\n    setMaxTracked(){\r\n        //TODO move somewhere else\r\n        console.log('setMaxTracked')\r\n        this.setState({\r\n            trackedStyle: {\r\n                backgroundColor: \"red\",\r\n                width: this.props.max_tracked + \"%\",\r\n                height: \"30px\",\r\n                borderRadius: \"0px\",\r\n            },\r\n        });\r\n    }\r\n\r\n    handleSliderInput = (event) => {\r\n        //this.setMaxTracked(); //TODO call when click on run trackers\r\n\r\n        if (event.type === \"mousedown\"){\r\n            console.log('slider mousedown')\r\n          this.setState({\r\n            startPosX: event.pageX,\r\n            dragModeOn: true,\r\n          });\r\n          document.addEventListener('mousemove', this.handleSliderInput); \r\n\r\n        } else if (event.type === \"mouseup\"){\r\n            console.log('slider mouseup')\r\n\r\n            //update frameno depending on offset\r\n            //convert pixel offset to slider value\r\n            console.log(this.state.selectedFrameNumber)\r\n            this.props.setFrameNo(this.state.selectedFrameNumber)\r\n            this.setState({\r\n                offsetX: this.state.startPosX - this.state.xPos,\r\n                dragModeOn: false,\r\n              });\r\n              document.removeEventListener('mousemove', this.handleSliderInput); \r\n\r\n        } else if (event.type === \"mousemove\"){\r\n            //on move: register offset from start pos\r\n            // set thumb position\r\n\r\n            if (this.state.dragModeOn === true){\r\n                //var sliderX = ReactDOM.findDOMNode(this).offsetLeft;//.getBoundingClientRect();\r\n                //console.log(rect.top, rect.right, rect.bottom, rect.left);\r\n                var sliderWidth =  ReactDOM.findDOMNode(this).offsetWidth - 25;\r\n                var xPos = event.pageX;\r\n                var new_left = xPos - 100;\r\n                new_left = Math.max(this.props.min_value, new_left)\r\n                new_left = Math.min(sliderWidth, new_left)\r\n\r\n                this.setState({\r\n                    offsetX: this.state.startPosX - this.state.xPos,\r\n                    thumbStyle: {\r\n                        left: new_left, // 100 is left of FrameArea\r\n                    },\r\n                  });\r\n\r\n                var newFrameNumber = Math.ceil((this.state.thumbStyle.left/sliderWidth) * this.props.max_value);\r\n\r\n                \r\n                 this.setState({\r\n                    selectedFrameNumber: newFrameNumber,\r\n                    selectedStyle: {\r\n                        backgroundColor: \"light-blue\",\r\n                        width: newFrameNumber +\"%\",\r\n                        height: \"20px\",\r\n                        borderRadius: \"0px\",\r\n                      },\r\n                 }); \r\n\r\n\r\n\r\n                 this.props.setFrameNo(newFrameNumber)\r\n\r\n            }\r\n        }\r\n      }\r\n  \r\n    render() {\r\n    console.log('render '+ this.props.max_tracked)\r\n      return(\r\n        <div style = {this.state.bgStyle} className=\"backgroundSlider\">\r\n        <div style = {this.state.selectedStyle} className=\"selectedSlider\"/>\r\n        <div style = {this.state.trackedStyle} className=\"trackedSlider\"/>\r\n\r\n        <div id=\"Thumb\" className=\"Thumb\" style = {this.state.thumbStyle} onMouseDown = {this.props.handleSliderInput} onMouseUp = {this.props.handleSliderInput}>\r\n            <p>{this.state.selectedFrameNumber}</p>\r\n            <p>{'val ' + this.props.value}</p>\r\n        </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Slider;"]},"metadata":{},"sourceType":"module"}